var CryptoJS=CryptoJS||function(m,q){var h={},k=h.lib={},c=function(){},a=k.Base={extend:function(b){c.prototype=this;var e=new c;b&&e.mixIn(b);e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)});e.init.prototype=e;e.$super=this;return e},create:function(){var b=this.extend();b.init.apply(b,arguments);return b},init:function(){},mixIn:function(b){for(var e in b)b.hasOwnProperty(e)&&(this[e]=b[e]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},clone:function(){return this.init.prototype.extend(this)}},
d=k.WordArray=a.extend({init:function(b,e){b=this.words=b||[];this.sigBytes=e!=q?e:4*b.length},toString:function(b){return(b||l).stringify(this)},concat:function(b){var e=this.words,d=b.words,a=this.sigBytes;b=b.sigBytes;this.clamp();if(a%4)for(var g=0;g<b;g++)e[a+g>>>2]|=(d[g>>>2]>>>24-g%4*8&255)<<24-(a+g)%4*8;else if(65535<d.length)for(g=0;g<b;g+=4)e[a+g>>>2]=d[g>>>2];else e.push.apply(e,d);this.sigBytes+=b;return this},clamp:function(){var b=this.words,e=this.sigBytes;b[e>>>2]&=4294967295<<32-
e%4*8;b.length=m.ceil(e/4)},clone:function(){var b=a.clone.call(this);b.words=this.words.slice(0);return b},random:function(b){for(var e=[],a=0;a<b;a+=4)e.push(4294967296*m.random()|0);return new d.init(e,b)}}),f=h.enc={},l=f.Hex={stringify:function(b){var e=b.words;b=b.sigBytes;for(var a=[],d=0;d<b;d++){var g=e[d>>>2]>>>24-d%4*8&255;a.push((g>>>4).toString(16));a.push((g&15).toString(16))}return a.join("")},parse:function(b){for(var e=b.length,a=[],f=0;f<e;f+=2)a[f>>>3]|=parseInt(b.substr(f,2),16)<<
24-f%8*4;return new d.init(a,e/2)}},n=f.Latin1={stringify:function(b){var e=b.words;b=b.sigBytes;for(var a=[],d=0;d<b;d++)a.push(String.fromCharCode(e[d>>>2]>>>24-d%4*8&255));return a.join("")},parse:function(b){for(var a=b.length,f=[],n=0;n<a;n++)f[n>>>2]|=(b.charCodeAt(n)&255)<<24-n%4*8;return new d.init(f,a)}},I=f.Utf8={stringify:function(b){try{return decodeURIComponent(escape(n.stringify(b)))}catch(a){throw Error("Malformed UTF-8 data");}},parse:function(b){return n.parse(unescape(encodeURIComponent(b)))}},
C=k.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new d.init;this._nDataBytes=0},_append:function(b){"string"==typeof b&&(b=I.parse(b));this._data.concat(b);this._nDataBytes+=b.sigBytes},_process:function(b){var a=this._data,f=a.words,n=a.sigBytes,g=this.blockSize,l=n/(4*g),l=b?m.ceil(l):m.max((l|0)-this._minBufferSize,0);b=l*g;n=m.min(4*b,n);if(b){for(var c=0;c<b;c+=g)this._doProcessBlock(f,c);c=f.splice(0,b);a.sigBytes-=n}return new d.init(c,n)},clone:function(){var b=a.clone.call(this);
b._data=this._data.clone();return b},_minBufferSize:0});k.Hasher=C.extend({cfg:a.extend(),init:function(b){this.cfg=this.cfg.extend(b);this.reset()},reset:function(){C.reset.call(this);this._doReset()},update:function(b){this._append(b);this._process();return this},finalize:function(b){b&&this._append(b);return this._doFinalize()},blockSize:16,_createHelper:function(b){return function(a,d){return(new b.init(d)).finalize(a)}},_createHmacHelper:function(b){return function(a,d){return(new w.HMAC.init(b,
d)).finalize(a)}}});var w=h.algo={};return h}(Math);
(function(){var m=CryptoJS,q=m.lib,h=q.WordArray,k=q.Hasher,c=[],q=m.algo.SHA1=k.extend({_doReset:function(){this._hash=new h.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,d){for(var f=this._hash.words,l=f[0],n=f[1],k=f[2],h=f[3],w=f[4],b=0;80>b;b++){if(16>b)c[b]=a[d+b]|0;else{var e=c[b-3]^c[b-8]^c[b-14]^c[b-16];c[b]=e<<1|e>>>31}e=(l<<5|l>>>27)+w+c[b];e=20>b?e+((n&k|~n&h)+1518500249):40>b?e+((n^k^h)+1859775393):60>b?e+((n&k|n&h|k&h)-1894007588):e+((n^k^
h)-899497514);w=h;h=k;k=n<<30|n>>>2;n=l;l=e}f[0]=f[0]+l|0;f[1]=f[1]+n|0;f[2]=f[2]+k|0;f[3]=f[3]+h|0;f[4]=f[4]+w|0},_doFinalize:function(){var a=this._data,d=a.words,f=8*this._nDataBytes,l=8*a.sigBytes;d[l>>>5]|=128<<24-l%32;d[(l+64>>>9<<4)+14]=Math.floor(f/4294967296);d[(l+64>>>9<<4)+15]=f;a.sigBytes=4*d.length;this._process();return this._hash},clone:function(){var a=k.clone.call(this);a._hash=this._hash.clone();return a}});m.SHA1=k._createHelper(q);m.HmacSHA1=k._createHmacHelper(q)})();
(function(){var m=CryptoJS,q=m.enc.Utf8;m.algo.HMAC=m.lib.Base.extend({init:function(h,k){h=this._hasher=new h.init;"string"==typeof k&&(k=q.parse(k));var c=h.blockSize,a=4*c;k.sigBytes>a&&(k=h.finalize(k));k.clamp();for(var d=this._oKey=k.clone(),f=this._iKey=k.clone(),l=d.words,n=f.words,m=0;m<c;m++)l[m]^=1549556828,n[m]^=909522486;d.sigBytes=f.sigBytes=a;this.reset()},reset:function(){var h=this._hasher;h.reset();h.update(this._iKey)},update:function(h){this._hasher.update(h);return this},finalize:function(h){var k=
this._hasher;h=k.finalize(h);k.reset();return k.finalize(this._oKey.clone().concat(h))}})})();
(function(){var m=CryptoJS,q=m.lib.WordArray;m.enc.Base64={stringify:function(h){var k=h.words,c=h.sigBytes,a=this._map;h.clamp();h=[];for(var d=0;d<c;d+=3)for(var f=(k[d>>>2]>>>24-d%4*8&255)<<16|(k[d+1>>>2]>>>24-(d+1)%4*8&255)<<8|k[d+2>>>2]>>>24-(d+2)%4*8&255,l=0;4>l&&d+0.75*l<c;l++)h.push(a.charAt(f>>>6*(3-l)&63));if(k=a.charAt(64))for(;h.length%4;)h.push(k);return h.join("")},parse:function(h){var k=h.length,c=this._map,a=c.charAt(64);a&&(a=h.indexOf(a),-1!=a&&(k=a));for(var a=[],d=0,f=0;f<k;f++)if(f%
4){var l=c.indexOf(h.charAt(f-1))<<f%4*2,n=c.indexOf(h.charAt(f))>>>6-f%4*2;a[d>>>2]|=(l|n)<<24-d%4*8;d++}return q.create(a,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();this.JSON||(this.JSON={});
(function(){function m(a){return 10>a?"0"+a:a}function q(a){c.lastIndex=0;return c.test(a)?'"'+a.replace(c,function(a){var d=f[a];return"string"===typeof d?d:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function h(f,k){var c,m,b,e,t=a,s,g=k[f];g&&"object"===typeof g&&"function"===typeof g.toJSON&&(g=g.toJSON(f));"function"===typeof l&&(g=l.call(k,f,g));switch(typeof g){case "string":return q(g);case "number":return isFinite(g)?String(g):"null";case "boolean":case "null":return String(g);
case "object":if(!g)return"null";a+=d;s=[];if("[object Array]"===Object.prototype.toString.apply(g)){e=g.length;for(c=0;c<e;c+=1)s[c]=h(c,g)||"null";b=0===s.length?"[]":a?"[\n"+a+s.join(",\n"+a)+"\n"+t+"]":"["+s.join(",")+"]";a=t;return b}if(l&&"object"===typeof l)for(e=l.length,c=0;c<e;c+=1)m=l[c],"string"===typeof m&&(b=h(m,g))&&s.push(q(m)+(a?": ":":")+b);else for(m in g)Object.hasOwnProperty.call(g,m)&&(b=h(m,g))&&s.push(q(m)+(a?": ":":")+b);b=0===s.length?"{}":a?"{\n"+a+s.join(",\n"+a)+"\n"+
t+"}":"{"+s.join(",")+"}";a=t;return b}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+m(this.getUTCMonth()+1)+"-"+m(this.getUTCDate())+"T"+m(this.getUTCHours())+":"+m(this.getUTCMinutes())+":"+m(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a,d,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;"function"!==typeof JSON.stringify&&(JSON.stringify=function(f,c,k){var m;d=a="";if("number"===typeof k)for(m=0;m<k;m+=1)d+=" ";else"string"===typeof k&&(d=k);if((l=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return h("",{"":f})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,d){function f(b,a){var c,k,g=b[a];if(g&&"object"===typeof g)for(c in g)Object.hasOwnProperty.call(g,c)&&(k=f(g,c),void 0!==k?g[c]=k:delete g[c]);return d.call(b,a,g)}var c;a=String(a);k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return c=eval("("+a+")"),"function"===typeof d?f({"":c},""):c;throw new SyntaxError("JSON.parse");})})();
var Scoreflex=function(m,q,h){var k;k={inArray:function(c,a){for(var d=0;d<a.length;d++)if(a[d]===c)return!0;return!1},rawurlencode:function(c){c=(c+"").toString();return encodeURIComponent(c).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")},getUUID:function(){var c=Array(31);if(window.crypto&&crypto.getRandomValues){var a=new Uint8Array(31);crypto.getRandomValues(a);for(var d=0;31>d;d++)c[d]=a[d]&15}else for(d=0;31>d;d++)c[d]=16*Math.random()|
0;var f=0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var d=c[f++];return("x"==a?d:d&3|8).toString(16)})},getDeviceId:function(){var c;window.localStorage&&(c=localStorage.getItem("deviceId"));c||(c=this.getUUID()+"-"+(+new Date).toString(16),window.localStorage&&localStorage.setItem("deviceId",c));return c},fireEvent:function(c,a,d){var f;if(document.createEventObject)return f=document.createEventObject(),f.data=d,c.fireEvent("on"+a,f);f=document.createEvent("HTMLEvents");
f.initEvent(a,!0,!0);f.data=d;return!c.dispatchEvent(f)}};return function(c,a,d){var f="af ar be bg bn ca cs da de el en en_GB en_US es es_ES es_MX et fa fi fr fr_FR fr_CA he hi hr hu id is it ja ko lt lv mk ms nb nl pa pl pt pt_PT pt_BR ro ru sk sl sq sr sv sw ta th tl tr uk vi zh zh_CN zh_TW zh_HK".split(" "),l=!1,h=null,m=null,q=!0,w=function(){var b=function(b,a){var d=new XMLHttpRequest;"withCredentials"in d?d.open(b,a,!0):"undefined"!=typeof XDomainRequest?(d=new XDomainRequest,d.open(b,a)):
d=null;return d},a=function(b,a){return b.k==a.k?b.v<a.v?-1:1:b.k<a.k?-1:1};return{request:function(a,d,c,f,k,p){var e=b(a,d);if(void 0!==k)for(var x in k)e.setRequestHeader(x,k[x]);if(e){if(p)for(x=["onerror","ontimeout","onabort","onloadend"],d=0;d<x.length;d++)p[x[d]]&&(e[x[d]]=p[x[d]]);e.onload=function(){if(p){try{var b;a:{try{b=JSON.parse(this.responseText);break a}catch(a){}b=null}e.responseJSON=b}catch(d){}200==this.status&&p.onload?p.onload.apply(this,arguments):p.onerror&&p.onerror.apply(this,
arguments)}};"POST"===a?e.send(c):e.send()}},getSignature:function(b,d,c,r){void 0===r&&(r="");void 0===c&&(c=[]);var f,e=document.createElement("a");e.href=d;d=e.protocol.substr(0,e.protocol.length-1).toLowerCase();var g=e.hostname.toLowerCase(),x=e.pathname,e=e.search;0<e.length&&"?"===e[0]&&(e=e.substr(1));var e=e.split("&"),h=[],l;for(f=0;f<e.length;f++)""!==e[f]&&(l=e[f].split("=",2),h.push({k:l[0],v:l[1]}));var e=k.rawurlencode,n;for(n in c)h.push({k:e(n),v:e(c[n])});h.sort(a);c=[];for(f=0;f<
h.length;f++)c.push(h[f].k+"="+h[f].v);c=c.join("&");b=b+"&"+e(d+"://"+g+x)+"&"+e(c)+"&"+e(r);b=CryptoJS.HmacSHA1(b,m).toString(CryptoJS.enc.Base64);return'Scoreflex sig="'+e(b)+'", meth="0"'}}}(),b={ScoreflexSessionEvent:function(b,a){return{name:"session",login:b,logout:a}},ScoreflexPlayEvent:function(b){return{name:"play",leaderboard:b}},ScoreflexChallengeEvent:function(b){return{name:"challenge",challenge:b}},fire:function(b){k.fireEvent(window,"ScoreflexEvent",b)}},e=function(){var b=function(b){return(q?
"https://sandbox.api.scoreflex.com":"https://api.scoreflex.com")+"/v1"+b},a=function(b){void 0===b&&(b={});var a=y()||{},d=a.lang||window.navigator.language;b.lang=k.inArray(d,f)?d:"en";a.accessToken&&(b.accessToken=a.accessToken);return b},d=function(b){var a=[],d;for(d in b)a.push(encodeURIComponent(d)+"="+encodeURIComponent(b[d]));return a.join("&")};return{post:function(e,c,f,k){c=a(c);e=b(e);var h=d(c);c={"Content-type":"application/x-www-form-urlencoded","X-Scoreflex-Authorization":w.getSignature("POST",
e,c,f)};w.request("POST",e,h,f,c,k)},get:function(c,e,f){e=a(e);c=b(c);(e=d(e))&&(c=c+"?"+e);w.request("GET",c,{},void 0,{},f)}}}(),t=function(){var a={},d={},c=[],e=function(b){if(!a[b]){var c=document.createElement("iframe");c.id="scoreflexWebClient_"+b;a[b]=c;c.onload=function(){d[b]=c.contentWindow}}return a[b]},g=function(b){for(var a=0;a<c.length;a++)if(c[a]===b){c.splice(a,1);break}},m=null;window.addEventListener("message",function(a){if("https://api.scoreflex.com"==a.origin||"https://sandbox.api.scoreflex.com"==
a.origin){var c=a.data;if(c!==m){m=c;var e=document.createElement("a");e.href=c;if("/v1/web/callback"==e.pathname){c=e.search;0<c.length&&"?"==c[0]&&(c=c.substr(1));var e=c.split("&"),c={},f,r,g;for(r=0;r<e.length;r++)e[r]&&(f=e[r].split("=",2),c[f[0]]=f[1]);e=null;for(g in d)if(a.source===d[g]){e=g;break}a=e;e=c.code;g=c.data?JSON.parse(decodeURIComponent(c.data)):{};switch(e){case "200000":p(a);A(null,!0);E();break;case "200001":p(a);break;case "200002":b.fire(b.ScoreflexPlayEvent(F.get(g.leaderboardId)));
p(a);break;case "200003":p(a);l&&(a=y(),!0===a.anonymous&&(g={clientId:h,devicePlatform:"Web",deviceModel:window.navigator.userAgent||"browser",deviceId:k.getDeviceId(),state:G(!0)},a.accessToken&&(g.anonymousAccessToken=a.accessToken,g.forceMerge="true"),g=u(g,void 0),t.show("/oauth/web/authorize",g,void 0,{style:"full",noSid:!0})));break;case "200004":c=g.code;g=g.state;p(a);K({code:c,state:g});break;case "200005":c=g.url;g=g.mode;p(a);D(c,{},{style:g});break;case "200006":p(a);break;case "200007":c=
g.challengeInstanceId;g=g.challengeConfigId;p(a);b.fire(b.ScoreflexChallengeEvent(H.get(c,g)));break;case "200008":p(a);break;case "200009":p(a);break;case "200010":p(a)}}}}},!1);var D=function(a,b,d,r){d=d||{};if(void 0!==r)for(var h in r)void 0===d[h]&&(d[h]=r[h]);r=b;if(-1!==a.indexOf("://"))b=a;else if(b=q,y().sid){h=d;void 0===r&&(r={});void 0===h&&(h={});var l=y()||{},m=l.lang||window.navigator.language;r.lang=k.inArray(m,f)?m:"en";l.sid&&!h.noSid&&(r.sid=l.sid);h=[];for(var v in r)h.push(encodeURIComponent(v)+
"="+encodeURIComponent(r[v]));v=h.join("&");b=(b?"https://sandbox.api.scoreflex.com":"https://api.scoreflex.com")+"/v1"+a+"?"+v}else b=null;b?(a=d.id||d.style||"full",v=e(a),v.src=b+"#start",d="scoreflexWebClient_"+d.style,void 0!==d&&(b=v.getAttribute("data-stylename"),b!==d&&(v.classList.remove(b),v.classList.add(d),v.setAttribute("data-stylename",d))),document.body.appendChild(v),g(a),c.push(a)):p()},p=function(b){var a;b||(b=0<c.length?c[c.length-1]:null);b&&(a=e(b))&&a.parentNode&&(a.parentNode.removeChild(a),
g(b))};return{show:D,close:p}}(),s=function(){_ns="SFX_"+c+"_"+(d?"1":"0");return{get:function(b){return(b=localStorage.getItem(_ns+b))?JSON.parse(b):null},set:function(b,a){var c=JSON.stringify(a);return localStorage.setItem(_ns+b,c)},rm:function(b){return localStorage.removeItem(_ns+b)}}}(),g=function(b,a){var c=function(){return a||{}};return{getId:function(){return b},getData:c,getNickname:function(){return c().nickName||""},showProfile:function(a,c){z.showProfile(b,a,c)},showFriends:function(a,
c){showPlayerFriends(b,a,c)}}},z=function(){var b={};return{get:function(a,c,d,f){if(l)if(void 0===d&&(d={}),!f&&b[a]){if(d.onload){var h=g(a,b[a]);setTimeout(function(){d.onload.call(null,h)},0)}}else{var k=d.onload;d.onload=function(){var c=this.responseJSON||{};b[a]=c;c=g(a,c);k.call(this,c)};e.get("/players/"+a,c,d)}},getCurrent:function(){var b=(y()||{}).me||{};return g(b.id,b)},showProfile:function(b,a,c){l&&(void 0===b&&(b="me"),a=u({},a),t.show("/web/players/"+b,a,c,{style:"full"}))},showFriends:function(b,
a,c){l&&(void 0===b&&(b="me"),a=u({},a),t.show("/web/players/"+b+"/friends",a,c,{style:"full"}))}}}(),J=function(b){var a=function(a,c,d){l&&(a={score:a},a=u(a,c),e.post("/scores/"+b,a,void 0,d))},c=function(a,c){if(l){var d=u({},a);t.show("/web/scores/"+b+"/ranks",d,c,{style:"panel"})}};return{getId:function(){return b},submitScore:a,show:function(a,c){if(l){var d=u({},a);t.show("/web/leaderboards/"+b,d,c,{style:"full"})}},showOverview:function(a,c){if(l){var d=u({},a);t.show("/web/leaderboards/"+
b+"/overview",d,c,{style:"full"})}},showRankbox:c,submitScoreAndShowRankbox:function(b,d,e){a(b,d);d=d||{};d.score=b;c(d,e)}}},F=function(){return{get:function(b){return J(b)}}}(),L=function(b,a){var c=null,d=function(a,c){if(l){var d=u(d,a);e.get("/challenges/instances/"+b,d,c)}},f=function(a,c,g){if(l)if(a&&void 0!==a.turnSequence){var h={body:JSON.stringify(a)},h=u(h,c);e.post("/challenges/instances/"+b+"/turns",h,void 0,g)}else d({fields:"turn"},{onload:function(){var b=a||{};b.turnSequence=((this.responseJSON||
{}).turn||{}).sequence||0;f(b,c,g)},onerror:(g||{}).onerror})};return{getInstanceId:function(){return b},getConfigId:function(){return a},getDetails:d,getPlayers:function(b,a,e){void 0===a&&(a={});e||null===cache_participants?d(b,{onload:function(){var b=(this.responseJSON||{}).participants||{},d={},e=0,f=0,h;for(h in b)e++,d[h]=g(h,{});var k=function(b){f++;b.id&&(d[b.id]=g(b.id,b));f>=e&&(c=d,setTimeout(function(){a.onload.call(null,d)},0))};for(h in b)z.get(h,{},{onload:function(){k(this.responseJSON||
{})}})},onerror:function(){a.onerror&&handler.onerror.apply(this,arguments)}}):a.onload&&setTimeout(function(){a.onload.call(null,c)},0)},getTurns:function(a,c){if(l){var d=u(d,a);e.get("/challenges/instances/"+b+"/turns",d,c)}},submitTurn:f,submitTurnScore:function(b,a,c){f({score:b},a,c)},showDetails:function(a,c){if(l){var d=u({},a);t.show("/web/challenges/instances/"+b,d,c,{style:"full"})}}}},H=function(){return{showChallenges:function(b,a){if(l){var c=u({},b);t.show("/web/challenges",c,a,{style:"full"})}},
get:function(b,a){return L(b,a)}}}(),y=function(){var b=s.get("sessions");b||(b={});return b.player?b.player:b.anonymous},A=function(b,a){var c=s.get("sessions");c||(c={});!0===a?c.player=b:c.anonymous=b;s.set("sessions",c)},B=null,G=function(b){if(!0===b||null===B)B="S"+ +new Date;return B},u=function(b,a){void 0===b&&(b={});if(void 0!==a)for(var c in a)b[c]=a[c];return b},M=function(b){var a={clientId:h,devicePlatform:"Web",deviceModel:window.navigator.userAgent||"browser",deviceId:k.getDeviceId()};
e.post("/oauth/anonymousAccessToken",a,void 0,b)},E=function(){var a=y(),c={onload:function(){var a=this.responseJSON||{},c=(a.accessToken||{}).token||null,d=a.sid||null,a=a.me||{},e=a.id||null,f=a.language||null;c&&d&&e&&A({anonymous:!0,accessToken:c,sid:d,playerId:e,lang:f,me:a},!1);l=!0;b.fire(b.ScoreflexSessionEvent(!1,!0))},onerror:function(){}};a&&a.accessToken&&a.sid&&a.playerId?c.onload&&setTimeout(c.onload,0):M(c)},K=function(a){a.state===G()&&(a={code:a.code,clientId:h},handlers={onload:function(){var a=
this.responseJSON||{},c=(a.accessToken||{}).token||null,d=a.sid||null,a=a.me||{},e=a.id||null,f=a.language||null;c&&d&&e&&(A({anonymous:!1,accessToken:c,sid:d,playerId:e,lang:f,me:a},!0),A(null,!1));z.showProfile();b.fire(b.ScoreflexSessionEvent(!0,!1))},onerror:function(){}},e.post("/oauth/accessToken",a,void 0,handlers))};(function(a,b,c){l||(h=a,m=b,q=c,E())})(c,a,d);return{reset:function(){s.rm("sessions")},RestClient:e,ping:function(a){e.get("/network/ping",{},a)},WebClient:t,Leaderboards:F,
Players:z,Challenges:H}}(m,q,h)};
